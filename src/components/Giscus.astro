---
interface Props {
  giscusCategory: string
  giscusCategoryId: string
}

const {
  giscusCategory,
  giscusCategoryId
} = Astro.props

const locale = Astro.currentLocale as string;

---

<giscus-widget
  repo="yeonjulee1005/dewdew-world"
  repoid="R_kgDOLF55BQ"
  category={giscusCategory}
  categoryid={giscusCategoryId}
  mapping="pathname"
  strict="0"
  reactionsenabled="1"
  emitmetadata="1"
  inputposition="top"
  theme="light_protanopia"
  lang={locale}
  crossorigin="anonymous"
  async
  loading="eager"
  >
</giscus-widget>

<script>
  import 'giscus'
  
  // Giscus 위젯 확인
  setTimeout(() => {
    const giscusWidget = document.querySelector('giscus-widget');
    console.log('Giscus 위젯 term 속성:', giscusWidget?.getAttribute('term'));
  }, 1000);
</script>