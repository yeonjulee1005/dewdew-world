---
interface Props {
  giscusCategory: string
  giscusCategoryId: string
}

const {
  giscusCategory,
  giscusCategoryId
} = Astro.props

const locale = Astro.currentLocale as string;

// 현재 페이지 경로에서 .mdx 확장자 제거
const currentPath = Astro.url.pathname.replace(/\.mdx/g, '');

---

<giscus-widget
  repo="yeonjulee1005/dewdew-world"
  repoid="R_kgDOLF55BQ"
  category={giscusCategory}
  categoryid={giscusCategoryId}
  mapping="pathname"
  term={currentPath}
  strict="1"
  reactionsenabled="1"
  emitmetadata="0"
  inputposition="top"
  theme="light_protanopia"
  lang={locale}
  crossorigin="anonymous"
  async
  loading="lazy"
  >
</giscus-widget>

<script>
  import 'giscus'
</script>